(()=>{"use strict";class t extends HTMLElement{#t;#e;#i;#n;constructor(){super(),this.#t={},this.$={},this.#e={},this.#i=!1,this.#n={};let t=this.props||{};Object.defineProperties(this,Object.entries(t).reduce(((t,[e,i])=>{let n=i.attr||this.#s(e);return this.#t[n]={name:e,prop:i},null!=i.handler&&(this.#n[e]=t=>i.handler.apply(this,[t.detail]),this.addEventListener("$"+e,this.#n[e])),this.hasOwnProperty(e)?this.#e[e]=this[e]:"boolean"===i.type&&null==this.getAttribute(n)&&i.default&&(this.#e[e]=!0),t[e]={get:()=>{this.#a();let t=this.getAttribute(n);return null!=t&&""!==t||"boolean"===i.type?this.#r(t,i.type):i.default},set:t=>{this.#a(e),"boolean"===i.type?t?this.setAttribute(n,""):this.removeAttribute(n):this.setAttribute(n,t)}},t}),{}))}#a(t){if(!this.#i){this.#i=!0;for(let e in this.#e)e!==t&&(this[e]=this.#e[e])}}#s(t){return"data-"+t.replaceAll(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}$checkType(t,e){return"integer"==e&&Number.isInteger(t)||["string","boolean","number","object"].includes(e)&&typeof t===e||"array"==e&&Array.isArray(t)}#l(t,e,i){if(!this.$checkType(e,i))throw new TypeError(`Type of "${t}" is ${i}. Value given: ${e}`)}#r(t,e){return"number"===e||"integer"===e?Number(t):"boolean"===e?null!=t:t}connectedCallback(){this.#a()}attributeChangedCallback(t,e,i){let n=this.#t[t],s=n.name,a=n.prop,r=this.#i;if(this.#a(),(r||!(s in this.#e))&&e!==i){if(null==s)return;let n=this.#r(i,a.type);if("boolean"!=a.type)try{if(this.#l(s,n,a.type),a.validator&&!a.validator.apply(this,[n]))throw`Prop "${t}" value ${value} is not valid`}catch(t){return console.error(t),void(null==e?this.removeAttribute(attrName):this.setAttribute(attrName,e))}const r=this.#r(e,a.type);this.dispatchEvent(new CustomEvent("$"+s,{detail:{oldValue:r,newValue:n}}))}}$set(t,e,i=!0){i&&null!=this.#n[t]&&this.removeEventListener("$"+key,this.#n[t]),this[t]=e,i&&null!=this.#n[t]&&this.addEventListener("$"+key,this.#n[t])}#o(t,e,i){const{id:n,on:s,attrs:a,name:r,props:l}=e,o="string"==typeof t?document.createElement(t):t;null!=e.class&&(o.className=e.class),null!=n&&(o.id=n),null!=r&&(this.$[r]=o);for(const t in s||{})o.addEventListener(t,s[t]);"string"==typeof i&&(i=[i]);for(const t of i)"string"==typeof t?o.appendChild(document.createTextNode(t)):Array.isArray(t)&&o.appendChild(this.createElement(t));for(const t in a||{})o.setAttribute(t,a[t]);for(const t in l)o[t]=l[t];return o}createElement(t){let e="div",i={},n=t;return(t[0]instanceof Element||t[0]instanceof DocumentFragment||"string"==typeof t[0])&&(e=t[0],n=n.slice(1)),"object"!=typeof t[1]||null==t[1]||Array.isArray(t[1])||(i=t[1],n=n.slice(1)),this.#o(e,i,n)}}customElements.define("rw-overlay",class extends t{#h;#c;#d;#u;constructor(){super(),this.#h=!1,this.style.display="none",this.#c=document.createElement("div"),this.#c.style.cssText=`\n      position: fixed;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      z-index: 2147483647;\n      background-color: rgba(${this.props.color.default}, 0);\n      transition: background-color ${this.props.transition.default}ms;\n    `,this.intangible&&(this.#c.style.pointerEvents="none"),this.#u=this.#p.bind(this)}connectedCallback(){this.#h=!0}disconnectedCallback(){this.#h=!1}static get observedAttributes(){return["data-opened","data-opacity","data-color","data-transition","data-persistent","data-intangible"]}get props(){return{opened:{type:"boolean",handler(){this.#y()}},opacity:{type:"number",default:0},color:{type:"string",default:"0,0,0"},transition:{type:"number",default:300,handler({newValue:t}){this.#c.style.transition=`background-color ${t}ms`}},persistent:{type:"boolean"},intangible:{type:"boolean",handler({newValue:t}){this.#c.style.pointerEvents=t?"none":null}}}}#p(t){t.target!==this.#c&&this.#c.contains(t.target)||(this.opened=!1,t.stopPropagation())}#y(){if(this.#h)if(this.opened){if(0===this.children.length)return;this.#d=this.children[0],this.intangible&&["",null].includes(this.#d.style.pointerEvents)&&(this.#d.style.pointerEvents="auto"),this.persistent||document.addEventListener("click",this.#u),this.#c.append(this.#d),document.body.append(this.#c),setTimeout((()=>{this.#c.style.backgroundColor=`rgba(${this.color}, ${this.opacity})`}))}else this.persistent||document.removeEventListener("click",this.#u),this.#c.style.backgroundColor=`rgba(${this.color}, 0)`,setTimeout((()=>{this.append(this.#d),document.body.removeChild(this.#c)}),this.transition)}})})();