(()=>{"use strict";class t extends HTMLElement{#t={};#e={};#i=!1;#s={};#n=new Set(["number","integer","string","boolean"]);constructor(){super(),this.$={};let t=this.props||{};Object.defineProperties(this,Object.entries(t).reduce(((t,[e,i])=>{let s=i.attr||this.#a(e);return this.#t[s]={name:e,prop:i},null!=i.handler&&(this.#s[e]=t=>i.handler.apply(this,[t.detail]),this.addEventListener("$"+e,this.#s[e])),this.hasOwnProperty(e)?this.#e[e]=this[e]:"boolean"===i.type&&null==this.getAttribute(s)&&i.default&&(this.#e[e]=!0),t[e]={get:()=>{this.#r();let t=this.getAttribute(s);return null!=t&&""!==t||"boolean"===i.type?this.#l(t,i.type):i.default},set:t=>{this.#r(e),"boolean"===i.type?t?this.setAttribute(s,""):this.removeAttribute(s):this.setAttribute(s,t)}},t}),{}))}#r(t){if(!this.#i){this.#i=!0;for(let e in this.#e)e!==t&&(this[e]=this.#e[e])}}#a(t){return"data-"+t.replaceAll(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}$checkType(t,e){return"integer"==e&&Number.isInteger(t)||["string","boolean","number","object"].includes(e)&&typeof t===e||"array"==e&&Array.isArray(t)}#o(t,e,i){if(!this.#n.has(i))throw new TypeError(`Allowed types are "${this.#n}". Type given: ${i}`);if(!this.$checkType(e,i))throw new TypeError(`Type of "${t}" is ${i}. Value given: ${e}`)}#l(t,e){return"number"===e||"integer"===e?Number(t):"boolean"===e?null!=t:t}connectedCallback(){this.#r()}attributeChangedCallback(t,e,i){let s=this.#t[t],n=s.name,a=s.prop,r=this.#i;if(this.#r(),(r||!(n in this.#e))&&e!==i){if(null==n)return;let s=this.#l(i,a.type);if("boolean"!=a.type)try{if(this.#o(n,s,a.type),a.validator&&!a.validator.apply(this,[s]))throw`Prop "${t}" value ${value} is not valid`}catch(t){return console.error(t),void(null==e?this.removeAttribute(attrName):this.setAttribute(attrName,e))}const r=this.#l(e,a.type);this.dispatchEvent(new CustomEvent("$"+n,{detail:{oldValue:r,newValue:s}}))}}$set(t,e,i=!0){const s=this.#s[t];i&&null!=s&&this.removeEventListener("$"+key,s),this[t]=e,i&&null!=s&&setTimeout((()=>this.addEventListener("$"+key,s)))}#h(t,e,i,s){const{id:n,on:a,attrs:r,name:l,props:o}=e,h="string"==typeof t?document.createElement(t):t;null!=e.class&&(h.className=e.class),null!=n&&(h.id=n),null!=l&&(s[l]=h);for(const t in a||{})h.addEventListener(t,a[t]);"string"==typeof i&&(i=[i]);for(const t of i)"string"==typeof t?h.appendChild(document.createTextNode(t)):Array.isArray(t)&&h.appendChild(this.$createElement(t,s));for(const t in r||{})h.setAttribute(t,r[t]);for(const t in o)h[t]=o[t];return h}$createElement(t,e){e=e||{};let i="div",s={};return(t[0]instanceof Element||t[0]instanceof DocumentFragment||"string"==typeof t[0])&&(i=t[0],t=t.slice(1)),"object"!=typeof t[0]||null==t[0]||Array.isArray(t[0])||(s=t[0],t=t.slice(1)),this.#h(i,s,t,e)}$buildShadow(t,e="open"){this.attachShadow({mode:e}),this.$createElement([this.shadowRoot,...t],this.$)}}customElements.define("rw-overlay",class extends t{getOverlayStyle(){return"\n    :host {\n      display: block;\n      position: fixed;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      z-index: 2147483647;\n    }\n    "}constructor(){super(),this._setup(),this.$buildShadow([["style",this.getOverlayStyle()],["slot",{name:"content",attrs:{style:"pointer-events: auto"}}]])}_setup(){this._opened=!1,this._overlayReady=!1,this._overlayClicked=this._overlayClicked.bind(this),this._intangibleChanged=this._intangibleChanged.bind(this),this._transitionTimeChanged=this._transitionTimeChanged.bind(this)}connectedCallback(){super.connectedCallback(),this._opened=!0,this._overlayReady||(this._overlayReady=!0,this._intangibleChanged(),this._transitionTimeChanged())}disconnectedCallback(){this._opened=!1}static get observedAttributes(){return["data-opacity","data-color","data-transition-time","data-persistent","data-intangible"]}get props(){return{opacity:{type:"number",default:0},color:{type:"string",default:"0,0,0"},transitionTime:{type:"number",default:300,handler({}){this._transitionTimeChanged()}},persistent:{type:"boolean"},intangible:{type:"boolean",handler({}){this._intangibleChanged()}}}}_overlayClicked(t){t.target!==this&&this.contains(t.target)||(this.close(),t.stopPropagation())}_intangibleChanged(){this.style.pointerEvents=this.intangible?"none":"auto"}_transitionTimeChanged(){this.style.transition=`background-color ${this.transitionTime}ms`}open(){this._opened||(this.persistent||document.addEventListener("click",this._overlayClicked),document.body.append(this),setTimeout((()=>{this.style.backgroundColor=`rgba(${this.color}, ${this.opacity})`})))}close(){this._opened&&(this.persistent||document.removeEventListener("click",this._overlayClicked),this.style.backgroundColor=`rgba(${this.color}, 0)`,setTimeout((()=>this.remove()),this.transitionTime))}})})();